<div class="overflow-x-auto">
  <table class="table">
    <thead>
      <tr>
        <th class="">Title</th>
        <th>Author</th>
        <th>Category</th>
        <th>Date</th>
        <th>Status</th>
        <th>Reactions</th>
        <th>Comments</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      @for (blog of blogs(); track $index) {
        <tr class="hover:bg-base-200">
          <td class="min-w-64">
            <p class="line-clamp-2 text-ellipsis text-wrap">
              {{ blog.title }}
            </p>
          </td>
          <td class="truncate">
            {{ blog.author?.fullName || "Unknown" }}
          </td>
          <td class="truncate">{{ blog.categoryId }}</td>
          <td class="truncate">{{ blog.createdAt.toDate() | date }}</td>
          <td>
            @if (blog.status == Status.PENDING) {
              <span class="badge badge-outline">Pending</span>
            } @else if (blog.status == Status.PUBLISHED) {
              <span class="badge badge-primary">Published</span>
            } @else {
              <span class="badge badge-error">Deleted</span>
            }
          </td>
          <td class="text-center">{{ blog.reaction }}</td>
          <td class="text-center">{{ blog.comments }}</td>
          <td class="flex items-center gap-1">
            <modal-open-button
              [modalName]="'modal_blog_detail'"
              [type]="'icon'"
              (click)="blogService.selectedBlog = blog"
            >
              <i class="material-symbols-outlined !text-xl">visibility</i>
            </modal-open-button>

            <modal-open-button
              [modalName]="'modal_blog_edit'"
              [type]="'icon'"
              (click)="blogService.selectedBlog = blog"
            >
              <i class="material-symbols-outlined !text-xl">edit_square</i>
            </modal-open-button>

            <modal-open-button
              [modalName]="'modal_blog_delete'"
              [type]="'icon'"
              (click)="blogService.selectedBlog = blog"
            >
              <i class="material-symbols-outlined !text-xl">delete</i>
            </modal-open-button>
          </td>
        </tr>
      } @empty {
        <tr>
          <td colspan="7" class="text-center">
            <p class="">No posts found.</p>
          </td>
        </tr>
      }
    </tbody>
  </table>
</div>
